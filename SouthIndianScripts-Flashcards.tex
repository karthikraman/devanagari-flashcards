% !Tex program = xelatex
\documentclass{article}
%%% PAGE SIZE and MARGINS %%%
\usepackage[left=5mm,right=5mm,bottom=15mm,top=5mm,paperwidth=74mm,paperheight=105mm]{geometry}

%%% PACKAGES
\usepackage{fontspec}
\usepackage{listofitems}
\usepackage{ifthen}
\usepackage{xcolor}
\newcommand{\hl}[1]{\colorbox{green!20}{#1}\hspace{-2pt}}

%%% HEADERS and FOOTERS %%%
\usepackage{fancyhdr}
\newcommand{\side}{ }
\pagestyle{empty}
\setlength{\headheight}{18pt}
\lhead[\fancyplain{ }{\pagenumfont\large\thepage}]
   {\fancyplain{ }{\leftmark}}
\rhead[\fancyplain{ }{\leftmark}]
   {\fancyplain{ }{\pagenumfont\large\thepage}}
\cfoot{ }
\newcommand{\sep}{\hspace{-0.5ex}{\small$\circ$}\hspace{0.5ex}}
\fancypagestyle{fancyplain}{ %
\fancyhf{ } % remove everything
\renewcommand{\headrulewidth}{0pt} % remove lines as well
\renewcommand{\footrulewidth}{0pt}
\lfoot{\fontspec{Noto Sans}\tiny\textcolor{gray}{\thepage-\dng{\side}}}
}


%%% FONT COMMANDS
\newcommand{\dng}[1]{{\fontspec[Script=Devanagari]{Siddhanta}{#1}}}

\begin{document}
\pagestyle{fancyplain}
%The following alters word spacing to ensure that words aren't too close to one another!
\spaceskip=1\fontdimen2\font plus 1\fontdimen3\font minus 1.25\fontdimen4\font
\setlength{\parindent}{0pt}
\setlength{\emergencystretch}{3em}
\newcommand{\dngfamily}{\fontspec[Script=Devanagari]{Siddhanta}}
\newcommand{\granthafamily}{\fontspec[Script=Grantha]{Noto Sans Grantha}}
\newcommand{\tlgfamily}{\fontspec[Script=Telugu]{Mandali}}
\newcommand{\alphabets}[2]{%
\setsepchar{ }
\readlist\letters{#2}
\foreachitem\ltr\in\letters{\ifthenelse{\equal{#1}{\ltr}}{\hl{\ltr} }{\ltr\ }}
}
\newcommand{\words}[4]{%
\setsepchar{ }
\readlist\letters{#2}
\foreachitem\ltr\in\letters{\ifthenelse{\equal{#1}{\ltr}}{\hl{\ltr}}{\ltr}}
\vfill
\readlist\letters{#3}
\foreachitem\ltr\in\letters{\ifthenelse{\equal{#1}{\ltr}}{\hl{\ltr}}{\ltr}}
\vfill
\readlist\letters{#4}
\foreachitem\ltr\in\letters{\ifthenelse{\equal{#1}{\ltr}}{\hl{\ltr}}{\ltr}}
}
\newcommand{\akshara}[3]{\renewcommand{\side}{अग्रः}
\begin{minipage}[b][0.3\textheight][t]{\textwidth}
    #1
    \fontsize{60pt}{20pt}\selectfont
    \vfil
    \begin{center}
    #2
    \end{center}
\end{minipage}
\vspace{8pt}
\begin{minipage}[t][0.15\textheight][t]{\textwidth}
    #1
    \fontsize{16pt}{10pt}\selectfont
    \hfill\alphabets{#2}{#3}
\end{minipage}
}
\newcommand{\shabda}[5]{\renewcommand{\side}{पृष्ठः}
\begin{minipage}[t][0.45\textheight][t]{\textwidth} 
    #1
    \fontsize{24pt}{30pt}\selectfont
    \vspace{10pt}
    \begin{center}
    \words{#2}{#3}{#4}{#5}
    \end{center}
    \vfil
\end{minipage}}
\newcommand{\card}[6]{
\akshara{\dngfamily}{#1}{#2}\hrule\akshara{\granthafamily}{#3}{#4}
\clearpage\addtocounter{page}{-1}
\shabda{\dngfamily}{#1}#5\hrule\shabda{\granthafamily}{#3}#6\clearpage}

\card
{अ}{अ आ इ ई}%dn
{𑌅}{𑌅 𑌆 𑌇 𑌈}
{{अ मृ ता}{अ च्यु तः}{अ ग्निः}}%dn
{{𑌅 𑌮𑍃 𑌤𑌾}{𑌅 𑌚𑍍𑌯𑍁 𑌤𑌃}{𑌅 𑌗𑍍𑌨𑌿𑌃}}

\card
{आ}{अ आ इ ई}%dn
{𑌆}{𑌅 𑌆 𑌇 𑌈}
{{आ क र्षि णी}{आ दि त्यः}{आ न नः}}%dn
{{𑌆 𑌕 𑌰𑍍𑌷𑌿 𑌣𑍀}{𑌆 𑌦𑌿 𑌤𑍍𑌯𑌃}{𑌆 𑌨 𑌨𑌃}}

\card
{इ}{अ आ इ ई}%dn
{𑌇}{𑌅 𑌆 𑌇 𑌈}
{{इ न्द्रा णी}{इ ज्यः}{इ डा}}%dn
{{𑌇 𑌨𑍍𑌦𑍍𑌰𑌾 𑌣𑍀}{𑌇 𑌜𑍍𑌯𑌃}{𑌇 𑌡𑌾}}
\card
{ई}{अ आ इ ई}%dn
{𑌈}{𑌅 𑌆 𑌇 𑌈}
{{ई शा नी}{ई श्व रः}{ई ड्यः}}%dn
{{𑌈 𑌶𑌾 𑌨𑍀}{𑌈 𑌶𑍍𑌵 𑌰𑌃}{𑌈 𑌡𑍍𑌯𑌃}}
\card
{उ}{उ ऊ ऋ ॠ}%dn
{𑌉}{𑌉 𑌊 𑌋 𑍠}
{{उ षः के शी}{उ पे न्द्रः}{उ मा}}%dn
{{𑌉 𑌷𑌃 𑌕𑍇 𑌶𑍀}{𑌉 𑌪𑍇 𑌨𑍍𑌦𑍍𑌰𑌃}{𑌉 𑌮𑌾}}
\card
{ऊ}{उ ऊ ऋ ॠ}%dn
{𑌊}{𑌉 𑌊 𑌋 𑍠}
{{ऊ र्ध्वा}{ऊ र्जि तः}{ऊ तिः}}%dn
{{𑌊 𑌰𑍍𑌧𑍍𑌵𑌾}{𑌊 𑌰𑍍𑌜𑌿 𑌤𑌃}{𑌊 𑌤𑌿𑌃}}
\card
{ऋ}{उ ऊ ऋ ॠ}%dn
{𑌋}{𑌉 𑌊 𑌋 𑍠}
{{ऋ द्धि दा}{ऋ तुः}{ऋ क्}}%dn
{{𑌋 𑌦𑍍𑌧𑌿 𑌦𑌾}{𑌋 𑌤𑍁𑌃}{𑌋 𑌕𑍍}}
\card
{ॠ}{उ ऊ ऋ ॠ}%dn
{𑍠}{𑌉 𑌊 𑌋 𑍠}
{{ॠ का रा}{ॠ का रः}{ }}%dn
{{𑍠 𑌕𑌾 𑌰𑌾}{𑍠 𑌕𑌾 𑌰𑌃}{ }}
\card
{ऌ}{ऌ ॡ ए ऐ}%dn
{𑌌}{𑌌 𑍡 𑌏 𑌐}
{{ऌ का रा}{ऌ व र्णः}{ }}%dn
{{𑌌 𑌕𑌾 𑌰𑌾}{𑌌 𑌵 𑌰𑍍𑌣𑌃}{ }}
\card
{ॡ}{ऌ ॡ ए ऐ}%dn
{𑍡}{𑌌 𑍡 𑌏 𑌐}
{{ॡ षा}{ॡ}{ }}%dn
{{𑍡 𑌷𑌾}{𑍡}{ }}
\card
{ए}{ऌ ॡ ए ऐ}%dn
{𑌏}{𑌌 𑍡 𑌏 𑌐}
{{ए क प दा}{ए कः}{ए षः}}%dn
{{𑌏 𑌕 𑌪 𑌦𑌾}{𑌏 𑌕𑌃}{𑌏 𑌷𑌃}}
\card
{ऐ}{ऌ ॡ ए ऐ}%dn
{𑌐}{𑌌 𑍡 𑌏 𑌐}
{{ऐ श्व र्या}{ऐ शा नः}{ऐ न्द्री}}%dn
{{𑌐 𑌶𑍍𑌵 𑌰𑍍𑌯𑌾}{𑌐 𑌶𑌾 𑌨𑌃}{𑌐 𑌨𑍍𑌦𑍍𑌰𑍀}}
\card
{ओ}{ओ औ अं अः}%dn
{𑌓}{𑌓 𑌔 𑌅𑌂 𑌅𑌃}
{{ओ ङ्का री}{ओ जः}{ओ ष्ठः}}%dn
{{𑌓 𑌙𑍍𑌕𑌾 𑌰𑍀}{𑌓 𑌜𑌃}{𑌓 𑌷𑍍𑌠𑌃}}
\card
{औ}{ओ औ अं अः}%dn
{𑌔}{𑌓 𑌔 𑌅𑌂 𑌅𑌃}
{{औ ष धी}{औ ष धः}{औ ष्ट्रः}}%dn
{{𑌔 𑌷 𑌧𑍀}{𑌔 𑌷 𑌧𑌃}{𑌔 𑌷𑍍𑌟𑍍𑌰𑌃}}
\card
{अं}{ओ औ अं अः}%dn
{𑌅𑌂}{𑌓 𑌔 𑌅𑌂 𑌅𑌃}
{{अं बि का}{अं शः}{ }}%dn
{{𑌅𑌂 𑌬𑌿 𑌕𑌾}{𑌅𑌂 𑌶𑌃}{ }}
\card
{अः}{ओ औ अं अः}%dn
{𑌅𑌃}{𑌓 𑌔 𑌅𑌂 𑌅𑌃}
{{अ क्ष रा}{ }{ }}%dn
{{𑌅 𑌕𑍍𑌷 𑌰𑌾}{ }{ }}


\end{document}
